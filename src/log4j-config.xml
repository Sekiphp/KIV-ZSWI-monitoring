<?xml version="1.0" encoding="UTF-8"?>
<Configuration status="WARN">

  <Properties>
  	<!-- format vystupu -->
    <Property name="format">%d{yyyy.MM.dd HH:mm:ss} [%-level - %logger{1}.%-M()] - %msg%n</Property>
    <!-- nazev vystupniho souboru pro logy cinnosti aplikace -->
    <Property name="debugFileDest">debug-log</Property>
    <!-- nazvy vystupnich souboru pro logy jednotlivych sluzeb -->
    <Property name="systemLoadFileDest">system_load-log</Property>
    <Property name="instanceIDFileDest">instance_id-log</Property>
    <Property name="sessionsCountFileDest">sessions_count-log</Property>
    <Property name="sessionsInfoFileDest">sessions_info-log</Property>
    <Property name="memoryInfoFileDest">memory_info-log</Property>
  </Properties>
  
  <Appenders>
  <!-- vypis do konzole - pro testovaci ucely -->
    <!-- <Console name="console" target="SYSTEM_OUT">
      <PatternLayout pattern="${logFormat}"/>
    </Console> -->
    <!-- logovani cinnosti aplikace (5 souborÅ¯ po 5 MB) -->
    <RollingFile name="debugFile" fileName="${debugFileDest}_1.txt" filePattern="${debugFileDest}_%i.txt">
	  <PatternLayout pattern="${format}"/>
	  <DefaultRolloverStrategy min="1" max="5" />
	  <SizeBasedTriggeringPolicy size="5 MB" />
    </RollingFile>
    <!-- logovani pro jednotlive sluzby (od kazde 5 historickych souboru po 1 MB) -->
    <RollingFile name="systemLoadFile" fileName="${systemLoadFileDest}_1.txt" filePattern="${systemLoadFileDest}_%i.txt">
		<PatternLayout pattern="${format}"/>
		<DefaultRolloverStrategy min="1" max="5" />
		<SizeBasedTriggeringPolicy size="1 MB" />
    </RollingFile>
    <RollingFile name="instanceIDFile" fileName="${instanceIDFileDest}_1.txt" filePattern="${instanceIDFileDest}_%i.txt">
		<PatternLayout pattern="${format}"/>
		<DefaultRolloverStrategy min="1" max="5" />
		<SizeBasedTriggeringPolicy size="1 MB" />		
    </RollingFile>
    <RollingFile name="sessionsCountFile" fileName="${sessionsCountFileDest}_1.txt" filePattern="${sessionsCountFileDest}_%i.txt">
		<PatternLayout pattern="${format}"/>
		<DefaultRolloverStrategy min="1" max="5" />
		<SizeBasedTriggeringPolicy size="1 MB" />		
    </RollingFile>
    <RollingFile name="sessionsInfoFile" fileName="${sessionsInfoFileDest}_1.txt" filePattern="${sessionsInfoFileDest}_%i.txt">
		<PatternLayout pattern="${format}"/>
		<DefaultRolloverStrategy min="1" max="5" />
		<SizeBasedTriggeringPolicy size="1 MB" />		
    </RollingFile>
    <RollingFile name="memoryInfoFile" fileName="${memoryInfoFileDest}_1.txt" filePattern="${memoryInfoFileDest}_%i.txt">
		<PatternLayout pattern="${format}"/>
		<DefaultRolloverStrategy min="1" max="5" />
		<SizeBasedTriggeringPolicy size="1 MB" />		
    </RollingFile>
  </Appenders>

  <Loggers>
  	<!-- vystup loggeru do konzole -->
    <Root level="DEBUG">
      <!-- <AppenderRef ref="console"/> -->
    </Root>
    <!-- odkazy na loggery pro logovani cinnosti aplikace -->
    <Logger name="Monitoring" level="DEBUG">
      <AppenderRef ref="debugFile"/>
    </Logger>
    <Logger name="FilterManager" level="DEBUG">
      <AppenderRef ref="debugFile"/>
    </Logger>
    <Logger name="UrlFactory" level="DEBUG">
      <AppenderRef ref="debugFile"/>
    </Logger>
    <Logger name="PeerFileMonitor" level="DEBUG">
      <AppenderRef ref="debugFile"/>
    </Logger>
    <Logger name="ExitApp" level="DEBUG">
      <AppenderRef ref="debugFile"/>
    </Logger>
    <Logger name="ChangeFilter" level="DEBUG">
      <AppenderRef ref="debugFile"/>
    </Logger>
    <Logger name="LoadFilter" level="DEBUG">
      <AppenderRef ref="debugFile"/>
    </Logger>
    <Logger name="RestoreApp" level="DEBUG">
      <AppenderRef ref="debugFile"/>
    </Logger>
    <Logger name="SaveAsFilter" level="DEBUG">
      <AppenderRef ref="debugFile"/>
    </Logger>
    <Logger name="SaveFilter" level="DEBUG">
      <AppenderRef ref="debugFile"/>
    </Logger>
    <Logger name="StartPauseMonitor" level="DEBUG">
      <AppenderRef ref="debugFile"/>
    </Logger>
    <!-- odkazy na loggery pro logovani jednotlivych sluzeb -->
    <Logger name="SystemLoad" level="DEBUG">
      <AppenderRef ref="systemLoadFile"/>
    </Logger>
    <Logger name="InstanceId" level="DEBUG">
      <AppenderRef ref="instanceIDFile"/>
    </Logger>
    <Logger name="SessionsCount" level="DEBUG">
      <AppenderRef ref="sessionsCountFile"/>
    </Logger>
    <Logger name="SessionsInfo" level="DEBUG">
      <AppenderRef ref="sessionsInfoFile"/>
    </Logger>
    <Logger name="MemoryInfo" level="DEBUG">
      <AppenderRef ref="memoryInfoFile"/>
    </Logger>
  </Loggers>
  
</Configuration>